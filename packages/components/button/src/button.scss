:host {
  --_bg-color: var(--sl-color-background-secondary-bold);
  --_bg-mix-color: var(--sl-color-background-secondary-interactive-bold);
  --_bg-opacity: var(--sl-opacity-light-interactive-bold-idle);

  align-items: center;
  background: color-mix(in srgb, var(--_bg-color), var(--_bg-mix-color) calc(100% * var(--_bg-opacity)));
  border: var(--sl-size-borderWidth-action) solid var(--sl-color-border-secondary);
  border-radius: var(--sl-size-borderRadius-default);
  color: var(--sl-color-text-secondary-inverted);
  cursor: pointer;
  display: inline-flex;
  font-weight: var(--sl-text-typeset-fontWeight-demibold);
  gap: var(--sl-space-075);
  justify-content: center;
  outline: transparent solid var(--sl-size-outlineWidth-default);
  outline-offset: var(--sl-space-offset-focused);
  padding: calc(var(--sl-space-075) - var(--sl-size-borderWidth-action)) var(--sl-space-300);
  vertical-align: middle;
}

:host(:focus-visible) {
  outline-color: var(--sl-color-border-focused);
}

:host(:hover) {
  --_bg-opacity: var(--sl-opacity-light-interactive-bold-hover);
}

:host(:active) {
  --_bg-opacity: var(--sl-opacity-light-interactive-bold-active);
}

:host(:where(:not([fill]), [fill='ghost'], [fill='link'], [fill='solid'])) {
  border-color: transparent;
}

:host([fill='ghost']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-secondary-bold);
}

:host([fill='link']) {
  background: transparent;
  color: var(--sl-color-text-secondary-bold);
  padding-inline: 0;
}

:host([fill='link']:hover) {
  text-decoration: underline;
}

:host([fill='outline']) {
  --_bg-color: transparent;

  border-color: var(--sl-color-border-secondary);
  color: var(--sl-color-text-secondary-bold);
}

:host([icon-only]) {
  aspect-ratio: 1;
  block-size: calc(1lh + (var(--sl-space-075) - var(--sl-size-borderWidth-action)) * 2);
  padding: 0;
}

:host([size='sm']) {
  padding: calc(var(--sl-space-025) - var(--sl-size-borderWidth-action)) var(--sl-space-175);
}

:host([size='sm'][icon-only]) {
  block-size: calc(1lh + (var(--sl-space-025) - var(--sl-size-borderWidth-action)) * 2);
  padding: 0;
}

:host([size='lg']) {
  gap: var(--sl-space-100);
  padding: calc(var(--sl-space-125) - var(--sl-size-borderWidth-action)) var(--sl-space-300);
}

:host([size='lg'][icon-only]) {
  block-size: calc(1lh + (var(--sl-space-125) - var(--sl-size-borderWidth-action)) * 2);
  padding: 0;
}

:host([shape='pill']) {
  border-radius: var(--sl-size-borderRadius-full);
}

:host([variant='primary']) {
  --_bg-color: var(--sl-color-background-primary-bold);
  --_bg-mix-color: var(--sl-color-background-primary-interactive-bold);

  color: var(--sl-color-text-inverted);
}

:host([fill='ghost'][variant='primary']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-primary-interactive-plain);

  color: var(--sl-color-text-primary);
}

:host([fill='link'][variant='primary']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-primary);
}

:host([fill='outline'][variant='primary']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-primary-interactive-plain);

  border-color: var(--sl-color-border-primary);
  color: var(--sl-color-text-primary);
}

:host([variant='success']) {
  --_bg-color: var(--sl-color-background-positive-bold);
  --_bg-mix-color: var(--sl-color-background-positive-interactive-bold);

  color: var(--sl-color-text-inverted);
}

:host([fill='ghost'][variant='success']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-positive-interactive-plain);

  color: var(--sl-color-text-positive-bold);
}

:host([fill='link'][variant='success']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-positive-bold);
}

:host([fill='outline'][variant='success']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-positive-interactive-plain);

  border-color: var(--sl-color-border-positive);
  color: var(--sl-color-text-positive-bold);
}

:host([variant='warning']) {
  --_bg-color: var(--sl-color-background-caution-bold);
  --_bg-mix-color: var(--sl-color-background-caution-interactive-bold);

  color: var(--sl-color-text-caution-inverted);
}

:host([fill='ghost'][variant='warning']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-caution-interactive-plain);

  color: var(--sl-color-text-caution-bold);
}

:host([fill='link'][variant='warning']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-caution-bold);
}

:host([fill='outline'][variant='warning']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-caution-interactive-plain);

  border-color: var(--sl-color-border-caution);
  color: var(--sl-color-text-caution-bold);
}

:host([variant='danger']) {
  --_bg-color: var(--sl-color-background-negative-bold);
  --_bg-mix-color: var(--sl-color-background-negative-interactive-bold);

  color: var(--sl-color-text-inverted);
}

:host([fill='ghost'][variant='danger']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-negative-interactive-plain);

  color: var(--sl-color-text-negative-bold);
}

:host([fill='link'][variant='danger']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-negative-bold);
}

:host([fill='outline'][variant='danger']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-negative-interactive-plain);

  border-color: var(--sl-color-border-negative);
  color: var(--sl-color-text-negative-bold);
}

:host([variant='info']) {
  --_bg-color: var(--sl-color-background-info-bold);
  --_bg-mix-color: var(--sl-color-background-info-interactive-bold);

  color: var(--sl-color-text-inverted);
}

:host([fill='ghost'][variant='info']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-info-interactive-plain);

  color: var(--sl-color-text-info-bold);
}

:host([fill='link'][variant='info']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-info-bold);
}

:host([fill='outline'][variant='info']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-info-interactive-plain);

  border-color: var(--sl-color-border-info);
  color: var(--sl-color-text-info-bold);
}

:host([variant='inverted']) {
  --_bg-color: var(--sl-color-background-inverted-bold);
  --_bg-mix-color: var(--sl-color-background-inverted-interactive-bold);

  color: var(--sl-color-text-bold);
}

:host([variant='inverted']:focus-visible) {
  outline-color: var(--sl-color-border-inverted);
}

:host([fill='ghost'][variant='inverted']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-inverted-interactive-plain);

  color: var(--sl-color-text-inverted);
}

:host([fill='link'][variant='inverted']) {
  --_bg-color: transparent;

  color: var(--sl-color-text-inverted);
}

:host([fill='outline'][variant='inverted']) {
  --_bg-color: transparent;
  --_bg-mix-color: var(--sl-color-background-inverted-interactive-plain);

  border-color: var(--sl-color-border-inverted);
  color: var(--sl-color-text-inverted);
}

:host([disabled]) {
  color: var(--sl-color-text-disabled);
  cursor: default;
  pointer-events: none;
}

:host([disabled]:where(:not([fill]), [fill='solid'])) {
  background: var(--sl-color-background-disabled);
}

:host([disabled]:where([fill='ghost'], [fill='link'], [fill='outline'])) {
  --_bg-color: var(--sl-color-background-primary-muted);
}

:host([disabled][fill='outline']) {
  border-color: var(--sl-color-border-disabled);
}

@media (prefers-reduced-motion: no-preference) {
  :host(:where(:active, :focus-visible, :hover)) {
    transition-duration: var(--sl-animation-button-duration);
    transition-property: background, border-color, color, outline-color;
    transition-timing-function: var(--sl-animation-button-easing);
  }
}

::slotted(*) {
  // Prevent the icon from ever gaining focus inside the button
  pointer-events: none;
}
