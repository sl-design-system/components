:host {
  --_border-color: var(--sl-color-border-secondary-bold);
  --_border-radius: var(--sl-size-borderRadius-default);
  --_group-border-width: var(--sl-border-width-button-outline);
  --_border-width: var(--sl-border-width-button-outline);

  // --_icon-size: var(--sl-size-icon-md);
  // --_paddingInline: var(--sl-space-button-outline-inline-md);
  // --_paddingInline-textOnly: var(--sl-space-button-outline-inline-text-only-md);
  --_separator-color: var(--sl-color-button-default-outline-idle-border);
  --_separator-width: var(--sl-border-width-button-outline);

  border: var(--_group-border-width) solid var(--_border-color);
  border-radius: var(--_border-radius);
  display: inline-flex;
  gap: var(--_border-width);
}

:host([disabled]) {
  --_border-color: var(--sl-color-button-default-outline-disabled-border);
  --_separator-color: var(--sl-color-button-default-outline-disabled-border);
}

:host([fill='ghost']) {
  background-color: var(--sl-elevation-surface-raised-sunken);
}

:host([fill='ghost']),
:host([fill='solid']) {
  --_group-border-width: var(--sl-size-borderWidth-none);
  --_border-width: var(--sl-size-borderWidth-none);
}

:host([shape='pill']) {
  --_border-radius: var(--sl-size-borderRadius-full);

  ::slotted(sl-toggle-button:first-of-type) {
    --_padding-start: var(--sl-space-150);
  }
}

// :host([size='lg']) {
//   --_border-radius: var(--sl-border-radius-button-lg);
//   --_paddingInline: var(--sl-space-button-outline-inline-lg);
//   --_paddingInline-textOnly: var(--sl-space-button-outline-inline-text-only-lg);
// }

::slotted(sl-toggle-button) {
  --_border-width: 0px;
  --_button-border-radius: 0;
  --_focus-outline-offset: calc(var(--sl-border-width-focusring-offset) + var(--sl-border-width-button-outline));

  position: relative;

  &::after {
    background: var(--_border-color);
    block-size: 100%;
    content: '';
    inline-size: var(--_group-border-width);
    inset: 0 calc(var(--_group-border-width) * -1) 0 auto;
    position: absolute;
  }
}

::slotted(sl-toggle-button:focus-visible) {
  // make sure the focus ring of the current button is shown above the next button.
  z-index: 1;
}

::slotted(sl-toggle-button:first-of-type) {
  --_button-border-radius: calc(var(--_border-radius) - var(--sl-border-width-button-outline));

  border-end-end-radius: 0;
  border-start-end-radius: 0;
}

::slotted(sl-toggle-button:last-of-type) {
  --_button-border-radius: calc(var(--_border-radius) - var(--sl-border-width-button-outline));

  border-end-start-radius: 0;
  border-start-start-radius: 0;

  &::after {
    display: none;
  }
}

::slotted([text-only]) {
  --_padding-inline: var(--_paddingInline-textOnly);
}

::slotted([text-only][pressed]) {
  --_padding-inline: calc((var(--_paddingInline-textOnly) * 2 - var(--_icon-size) - var(--sl-space-button-gap-md)) / 2);
}

::slotted(:not([icon-only], [text-only])) {
  --_padding-inline: var(--_paddingInline);
}
